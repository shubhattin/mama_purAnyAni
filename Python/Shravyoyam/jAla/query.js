class लिपिquery{constructor(t){this.sel=t,this.elm=[],this.init()}init(){let t=this.sel,e=[];e="object"==typeof t?"innerHTML"in t?[t]:t:document.querySelectorAll(t),this.length=e.length;for(let t=0;t<this.length;t++)this[t]=e[t];return this.elm=e,this}html(){let t=arguments;if(0==this.length)return this;if(0==t.length)return this[0].innerHTML;if(1==t.length){for(let e of this.elm)e.innerHTML=t[0];return this}}text(){let t=arguments;if(0==this.length)return this;if(0==t.length)return this[0].innerText;if(1==t.length){for(let e of this.elm)e.innerText=t[0];return this}}val(){let t=arguments;if(0==this.length)return this;if(0==t.length)return this[0].value;if(1==t.length){for(let e of this.elm)e.value=t[0];return this}}attr(){let t=arguments;if(0==this.length)return this;if(1==t.length){if("object"==typeof t[0]){for(let e of this.elm)for(let r in t[0])e.setAttribute(r,t[0][r]);return this}return this[0].getAttribute(t[0])}if(2==t.length){for(let e of this.elm)e.setAttribute(t[0],t[1]);return this}}removeAttr(){let t=arguments;for(let e of this.elm)e.removeAttribute(t[0]);return this}trigger(){let t=arguments;for(let e of this.elm)e.dispatchEvent(new Event(t[0]));return this}on(){let t=arguments;for(let e of this.elm)e.addEventListener(t[0],t[1]);return this}append(){let t=arguments;for(let e of this.elm)e.insertAdjacentHTML("beforeend",t[0]);return this}appendHTML(){let t=arguments,e=$lf.make(t[0]);for(let t of this.elm)t.insertAdjacentElement("beforeend",e);return $l(e)}afterHTML(){let t=arguments,e=$lf.make(t[0]);for(let t of this.elm)t.insertAdjacentElement("afterend",e);return $l(e)}after(){let t=arguments;for(let e of this.elm)e.insertAdjacentHTML("afterend",t[0]);return this}before(){let t=arguments;for(let e of this.elm)e.insertAdjacentHTML("beforebegin",t[0]);return this}addClass(){let t=arguments;for(let e of this.elm)e.classList.add(t[0]);return this}removeClass(){let t=arguments;for(let e of this.elm)e.classList.remove(t[0]);return this}toggleClass(){let t=arguments;for(let e of this.elm)e.classList.toggle(t[0]);return this}focus(){return 0==this.length?this:(this[0].focus(),this)}css(){let t=arguments;if(0==this.length)return this;if(1==t.length){if("object"==typeof t[0]){for(let e of this.elm)Object.assign(e.style,t[0]);return this}{let e=getComputedStyle(this[0]);return null!=e&&null!=e?e[t[0]]:""}}if(2==t.length){for(let e of this.elm)e.style[t[0]]=t[1];return this}}removeCss(){let t=arguments;for(let e of this.elm)e.style.removeProperty(t[0]);return this}check(){let t=arguments;if(0==this.length)return this;if(0==t.length)this[0].checked;else if(1==t.length){for(let e of this.elm)e.checked=t[0];return this}}show(){let t={div:"block",span:"inline"};for(let e of this.elm){let r=$l(e);if("none"==r.css("display")&&(r.removeCss("display"),"none"==r.css("display"))){let l=e.tagName.toLowerCase();if(l in t)r.css("display",t[l]);else{let t=$l("body").appendHTML(`<${l}></${l}>`);r.css("display",t.css("display")),t.remove()}}}return this}hide(){for(let t of this.elm)"none"!=$l(t).css("display")&&(t.style.display="none");return this}children(){let t=[];for(let e of this.elm)for(let r of e.children)t.push(r);return t}remove(){for(let t of this.elm)t.remove();return this}find(){let t=arguments;if(0==this.length)return this;let e=$l($lf.make("<div></div>")),r=this[0].querySelectorAll(t[0]);e.length=r.length;for(let t=0;t<e.length;t++)e[t]=r[t];return e.elm=r,e}width(){return 0==this.length?this:this[0].offsetWidth}height(){return 0==this.length?this:this[0].offsetHeight}parent(){return 0==this.length?this:$l(this[0].parentElement)}parents(){if(0==this.length)return $l([]);for(var t=this[0],e=[];t;)e.push(t),t=t.parentNode;return e}index(t){return this.elm.indexOf(t)}offset(t){if(0==this.length)return{top:0,left:0};var e,r,l=this[0];return l?l.getClientRects().length?(e=l.getBoundingClientRect(),r=l.ownerDocument.defaultView,{top:e.top+r.pageYOffset,left:e.left+r.pageXOffset}):{top:0,left:0}:void 0}scrollLeft(){return 0==this.length?0:this[0].scrollLeft}scrollTop(){return 0==this.length?0:this[0].scrollTop}prop(){let t=arguments;return this.attr(t)}position(t=null){if(0==this.length)return{top:0,left:0};let e=this[0].getBoundingClientRect();t=this[0].parentElement.getBoundingClientRect();return{top:e.top-t.top,left:e.left-t.left}}resize(){if(0==this.length)return this;for(let t of this.elm){let e=$l(t);t.style.width="";let r=t.innerHTML,l=t.outerHTML;l=$lf.replace_all(l,r,""),l=$lf.replace_all(l,"id=","idk="),(l=$l("body").appendHTML(l).show()).html(`<option>${e.find("option:checked").html()}</option>`);let n=l.width();l.remove(),t.style.width=`${n+7}px`}return this}}class लिपिutil{make(t){var e=document.createElement("div");return e.innerHTML=t.trim(),e.firstChild}ajax(t,e={}){let r=new XMLHttpRequest;"xhr"in e&&(r=e.xhr());let l=!("async"in e)||e.async,n="type"in e?e.type:"GET";r.open(n,t,l);let i="data"in e?e.data:null;if("dataType"in e&&(r.responseType=e.dataType),"json"in e&&(i=JSON.stringify(e.json),r.setRequestHeader("content-type","application/json;charset=utf-8")),"contentType"in e&&r.setRequestHeader("content-type",e.contentType),"headers"in e)for(let t in e.headers)r.setRequestHeader(t,e.headers[t]);r.send(i);let s=function(){let t=function(t,e=!1){let l=r.getResponseHeader(t);return null!=l&&null!=l?e?l.split(";")[0]:l:void 0}("content-type",!0),l=r.response;return 2==parseInt(r.status/100)?("application/json"==t&&"json"!=r.responseType&&(l=JSON.parse(l)),"success"in e&&e.success(l,r,r.status,t)):"error"in e&&e.error(l,r,r.status,t),l};if(l){let t=new Promise(t=>{r.onerror=(()=>t("Network Error")),r.onload=(()=>t(s()))});return t.xhr=r,t}return s()}get(t,e={}){return e.type="GET",this.ajax(t,e)}post(t,e={}){return e.type="POST",this.ajax(t,e)}getScript(t,e=null){let r=document.createElement("script");r.src=t,$l("body")[0].appendChild(r),r.onload=(()=>{r.remove(),null!=e&&e()})}isPlainObject(t){return"object"==typeof t&&t.constructor==Object}in(t,e){return-1!=t.indexOf(e)}replace_all(t,e,r){e=e.replace(/[-\/\\^$*+?.()|[\]{}]/g,"\\$&");var l=new RegExp(e,"g");return t.replace(l,r)}last(t,e=-1){if(null==t||null==t)return"";return t[t.length+e]}time(){return(new Date).getTime()/1e3}dict_rev(t){let e={};for(let r in t)e[t[r]]=r;return e}substring(t,e,r=null){return null==r&&(r=t.length),r>0?t.substring(e,r):r<0?t.substring(e,t.length+r):void 0}format(t,e){for(let r=0;r<e.length;r++)t=this.replace_all(t,`{${r}}`,e[r]);return t}json_to_address(t){if(null==t|null==t)return[];let e=[];function r(t,r,i){let s=typeof r[t],o=`${i}/${t}`;Array.isArray(t)?n(r[t],o):"object"==s?l(r[t],o):e.push(`${i}/${t}`)}function l(t,e=""){for(let l in t)r(l,t,e)}function n(t,e=""){for(let l=0;l<t.length;l++)r(l,t,e)}return"object"==typeof t?t=l(t):Array.isArray(t)&&(t=n(t)),e}val_from_adress(t,e){let r=e;if("/"==t)return r;t=t.substring(1).split("/");for(let e of t){let t=e;Array.isArray(r)&&(t=parseInt(t)),r=r[t]}return r}set_val_from_adress(t,e,r=null,l=!1){let n=e,i=(t=t.substring(1).split("/")).length;for(let e=0;e<i;e++){let s=t[e];Array.isArray(n)&&(s=parseInt(s)),e==i-1?n[s]=r:(s in n||!l||(n[s]={}),n=n[s])}return e}}null!=$l&&($l=void 0);var $l=function(t){let e=new लिपिquery(t);return e.init(),e};null!=$lf&&($lf=void 0);var $lf=new लिपिutil;